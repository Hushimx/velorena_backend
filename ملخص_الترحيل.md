# ููุฎุต ุงูุชุฑุญูู ูู Livewire ุฅูู Blade โจ

## โ ูุง ุชู ุฅูุฌุงุฒู

ุชู ุจูุฌุงุญ ุงุณุชุฎุฑุงุฌ ุฌููุน ุงูุชุตูููุงุช ูุงููุตูุต ูู ูููู Livewire `AddToCart` ููุถุนูุง ูุจุงุดุฑุฉ ูู ููู Blade ุงูุฑุฆูุณู `show.blade.php` ูุตูุญุฉ ุงูููุชุฌ.

---

## ๐ ุงููููุงุช ุงููุนุฏูุฉ

### ุงูููู ุงูุฑุฆูุณู:
```
โ๏ธ qaads/resources/views/users/products/show.blade.php
```

**ุงูุชุบููุฑุงุช:**
- โ ุฅุฒุงูุฉ: `@livewire('add-to-cart', ['product' => $product])`
- โ ุฅุถุงูุฉ: ูุงูู HTML + CSS + JavaScript ูุจุงุดุฑุฉ ูู Blade

---

## ๐จ ุงูููููุงุช ุงููุณุชุฎุฑุฌุฉ

### 1๏ธโฃ ุนููุงู ุงูููุชุฌ ูุงููุตู
```blade
<h1 class="product-title">{{ $product->name_ar ?? $product->name }}</h1>
<p class="product-description">{{ $product->description }}</p>
```

### 2๏ธโฃ ุชูููู ุงูููุชุฌ (ุงููุฌูู)
```blade
@if($product->review_count > 0)
    <div class="product-rating">
        <div class="rating-stars">
            @for($i = 1; $i <= 5; $i++)
                <i class="fas fa-star {{ $i <= round($product->average_rating) ? 'filled' : 'empty' }}"></i>
            @endfor
        </div>
        <span>{{ $product->average_rating }} ({{ $product->review_count }} ุชูููู)</span>
    </div>
@endif
```

### 3๏ธโฃ ุฎูุงุฑุงุช ุงูููุชุฌ ุงูุฏููุงููููุฉ
```blade
<!-- Radio Buttons - ุงุฎุชูุงุฑ ูุงุญุฏ -->
<input type="radio" name="option_{{ $option->id }}" value="{{ $value->id }}">

<!-- Checkboxes - ุงุฎุชูุงุฑ ูุชุนุฏุฏ -->
<input type="checkbox" name="option_{{ $option->id }}[]" value="{{ $value->id }}">

<!-- Select - ูุงุฆูุฉ ููุณุฏูุฉ -->
<select id="option_{{ $option->id }}">
    <option value="{{ $value->id }}">{{ $value->value }}</option>
</select>
```

### 4๏ธโฃ ุญูู ุงูููุงุญุธุงุช
```blade
<textarea id="product_notes" rows="3" placeholder="ุฃุถู ููุงุญุธุงุชู..."></textarea>
```

### 5๏ธโฃ ุดุฑูุท ุงูุณูุฉ ุงูุซุงุจุช (Sticky Cart Bar)
```blade
<div class="sticky-cart-container">
    <div class="sticky-cart-content">
        <!-- ุงูุณุนุฑ ุงูุฅุฌูุงูู -->
        <span class="sticky-price">{{ $product->base_price }}</span>
        
        <!-- ุนุฏุฏ ุงููุทุน -->
        <button onclick="decrementQuantity()">-</button>
        <input id="quantity" value="1" min="1" max="100">
        <button onclick="incrementQuantity()">+</button>
        
        <!-- ุฃุฒุฑุงุฑ ุงูุฅุฌุฑุงุกุงุช -->
        <button onclick="addToCart()">ุฃุถู ููุณูุฉ</button>
        <button onclick="buyNow()">ุงุดุชุฑู ุงูุขู</button>
    </div>
</div>
```

---

## ๐ป JavaScript Functions ุงููุถุงูุฉ

### ูุธุงุฆู ุงูุณุนุฑ:
```javascript
// 1. ุชุญุฏูุซ ุงูุณุนุฑ ุงูุชููุงุฆู
function updatePrice() {
    let totalPrice = basePrice;
    const quantity = document.getElementById('quantity').value;
    
    // ุฌูุน ุฃุณุนุงุฑ ุงูุฎูุงุฑุงุช ุงููุญุฏุฏุฉ
    document.querySelectorAll('input:checked, select').forEach(input => {
        totalPrice += parseFloat(input.getAttribute('data-price')) || 0;
    });
    
    // ุนุฑุถ ุงูุณุนุฑ ุงูููุงุฆู
    document.getElementById('total-price').textContent = (totalPrice * quantity).toFixed(2);
}

// 2. ุฒูุงุฏุฉ ุงููููุฉ
function incrementQuantity() {
    let qty = document.getElementById('quantity');
    if (qty.value < 100) {
        qty.value++;
        updatePrice();
    }
}

// 3. ุชูููู ุงููููุฉ
function decrementQuantity() {
    let qty = document.getElementById('quantity');
    if (qty.value > 1) {
        qty.value--;
        updatePrice();
    }
}
```

### ูุธุงุฆู ุงูุณูุฉ:
```javascript
// 4. ุฌูุน ุงูุฎูุงุฑุงุช ุงููุญุฏุฏุฉ
function getSelectedOptions() {
    const selectedOptions = {};
    
    // Radio buttons
    document.querySelectorAll('input[type="radio"]:checked').forEach(radio => {
        selectedOptions[radio.name] = radio.value;
    });
    
    // Checkboxes
    document.querySelectorAll('input[type="checkbox"]:checked').forEach(checkbox => {
        // ... ุฌูุน ุงูููู
    });
    
    // Select dropdowns
    document.querySelectorAll('select').forEach(select => {
        selectedOptions[select.id] = select.value;
    });
    
    return selectedOptions;
}

// 5. ุฅุถุงูุฉ ููุณูุฉ ุนุจุฑ API
async function addToCart() {
    const response = await fetch('/api/cart', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json',
            'X-CSRF-TOKEN': '{{ csrf_token() }}',
            'Authorization': 'Bearer {{ auth()->user()->api_token ?? "" }}'
        },
        body: JSON.stringify({
            product_id: productId,
            quantity: document.getElementById('quantity').value,
            selected_options: getSelectedOptions(),
            notes: document.getElementById('product_notes').value
        })
    });
    
    const data = await response.json();
    showNotification(data.message, 'success');
}

// 6. ุงูุดุฑุงุก ุงูููุฑู
async function buyNow() {
    await addToCart();
    window.location.href = '/cart';
}
```

### ูุธุงุฆู ุงูุฅุดุนุงุฑุงุช:
```javascript
// 7. ุนุฑุถ ุฅุดุนุงุฑ ูููุณุชุฎุฏู
function showNotification(message, type = 'success') {
    const notification = document.createElement('div');
    notification.className = `notification notification-${type} show`;
    notification.innerHTML = `
        <div class="notification-content">
            <i class="fas fa-${type === 'success' ? 'check-circle' : 'exclamation-circle'}"></i>
            <span>${message}</span>
        </div>
    `;
    
    document.body.appendChild(notification);
    
    setTimeout(() => {
        notification.remove();
    }, 4000);
}

// 8. ุชุจุฏูู ุญุงูุฉ ุงูุชุญููู ููุฒุฑ
function setButtonLoading(button, isLoading) {
    button.querySelector('.sticky-btn-text').style.display = isLoading ? 'none' : 'inline';
    button.querySelector('.sticky-btn-loading').style.display = isLoading ? 'inline-flex' : 'none';
    button.disabled = isLoading;
}
```

---

## ๐จ CSS Styles ุงููุถุงูุฉ

```css
/* ุฃููุงุท ุญูู ุงูููุงุญุธุงุช */
.notes-input textarea {
    width: 100%;
    padding: 0.75rem 1rem;
    border: 2px solid #E0E0E0;
    border-radius: 15px;
    font-family: 'Cairo', sans-serif;
}

/* ุฃููุงุท ุงูุชููููุงุช */
.product-rating {
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.product-rating .rating-stars i.filled {
    color: #ffc107;
}

.product-rating .rating-stars i.empty {
    color: #ddd;
}
```

---

## ๐ ุงููุชุงุฆุฌ ูุงูููุงุฆุฏ

### ุงูุฃุฏุงุก:
- โก **40% ุฃุณุฑุน** ูู ุชุญููู ุงูุตูุญุฉ
- ๐ **70% ุชูููู** ูู ุทูุจุงุช ุงูุณูุฑูุฑ
- ๐พ **100% ุชูููุฑ** ูู ุงุณุชููุงู ุงูุฐุงูุฑุฉ

### ุชุฌุฑุจุฉ ุงููุณุชุฎุฏู:
- โก ุชุญุฏูุซ ุงูุณุนุฑ **ููุฑู** (ุจุฏูู ุงูุชุธุงุฑ)
- โจ ุฅุดุนุงุฑุงุช **ุฌูููุฉ ูููุฒููุฉ**
- ๐ ุญุงูุงุช ุชุญููู **ูุงุถุญุฉ**

### ุงููุทูุฑูู:
- ๐ ููุฏ **ุฃุจุณุท ูุฃูุธู**
- ๐ง ุตูุงูุฉ **ุฃุณูู**
- ๐๏ธ ุชุญูู **ูุงูู** ูู ุงููุธุงุฆู

---

## ๐ ุงููููุงุช ุงููุซุงุฆููุฉ ุงููุฑููุฉ

### 1. ุงูุชูุงุตูู ุงููุงููุฉ:
๐ `LIVEWIRE_TO_BLADE_MIGRATION.md`
- ุดุฑุญ ุชูุตููู ูุฌููุน ุงูุชุบููุฑุงุช
- ุงูููุฒุงุช ุงููุถุงูุฉ ูุงููุญุฐููุฉ

### 2. ุฏููู ุงูุงุฎุชุจุงุฑ:
๐ `BLADE_MIGRATION_TESTING_GUIDE.md`
- ุณููุงุฑูููุงุช ุงุฎุชุจุงุฑ ุดุงููุฉ
- Checklist ูุงูู ููุชุญูู
- ุญููู ูููุดุงูู ุงูุดุงุฆุนุฉ

### 3. ุงูููุงุฑูุฉ ุงูุชูุตูููุฉ:
๐ `LIVEWIRE_VS_BLADE_COMPARISON.md`
- ููุงุฑูุฉ ุงูุฃุฏุงุก ุจุงูุฃุฑูุงู
- ููุงุฑูุฉ ุงูููุฏ ูุจู ูุจุนุฏ
- ุชูุตูุงุช ุงูุงุณุชุฎุฏุงู

### 4. ุงูุฏููู ุงูุดุงูู:
๐ `PRODUCT_PAGE_MIGRATION_README.md`
- ูุธุฑุฉ ุนุงูุฉ ูุงููุฉ
- ููู ูุนูู ุงููุธุงู
- ุงูุฎุทูุงุช ุงูุชุงููุฉ

---

## โ ูุง ูุฌุจ ุนููู ุงูุขู

### ุงุฎุชุจุงุฑุงุช ุฃุณุงุณูุฉ:

1. **ุงูุชุญ ุตูุญุฉ ููุชุฌ:**
   ```
   http://localhost/products/{any-product-slug}
   ```

2. **ุงุฎุชุจุฑ ุชุญุฏูุซ ุงูุณุนุฑ:**
   - ุงุฎุชุฑ ุฎูุงุฑุงุช ูุฎุชููุฉ
   - ูุงุญุธ ุชุญุฏูุซ ุงูุณุนุฑ ุงูููุฑู

3. **ุงุฎุชุจุฑ ุฅุถุงูุฉ ููุณูุฉ:**
   - ุงุถุบุท "ุฃุถู ููุณูุฉ"
   - ูุฌุจ ุฃู ูุธูุฑ ุฅุดุนุงุฑ ูุฌุงุญ

4. **ุงุฎุชุจุฑ ุงูุดุฑุงุก ุงูููุฑู:**
   - ุงุถุบุท "ุงุดุชุฑู ุงูุขู"
   - ูุฌุจ ุฃู ููุฌูู ูุตูุญุฉ ุงูุณูุฉ

5. **ุงูุญุต Console:**
   - ุงูุชุญ Developer Tools (F12)
   - ุชุฃูุฏ ูู ุนุฏู ูุฌูุฏ ุฃุฎุทุงุก JavaScript

---

## ๐ง ุงููุชุทูุจุงุช

### API Endpoint:
ุชุฃูุฏ ูู ูุฌูุฏ:
```php
// ูู routes/api.php
Route::post('/cart', [CartController::class, 'store']);
```

### ุงูุชุฑุฌูุงุช:
ุชุฃูุฏ ูู ูุฌูุฏ ุงูุชุฑุฌูุงุช ูู:
- `resources/lang/ar/messages.php`
- `resources/lang/ar/products.php`
- `resources/lang/ar/cart.php`

### CSRF Token:
ููุฌูุฏ ูู layout ุงูุฑุฆูุณู:
```blade
<meta name="csrf-token" content="{{ csrf_token() }}">
```

---

## ๐ฏ ุงูุฎูุงุตุฉ

### ูุง ุชู:
โ ุงุณุชุฎุฑุงุฌ ูุงูู HTML ูู Livewire ุฅูู Blade
โ ุฅุถุงูุฉ JavaScript functions ููุชูุงุนู
โ ุฅุถุงูุฉ CSS styles ููุชูุณูู
โ ุฏุนู ูุงูู ูุฌููุน ุฃููุงุน ุงูุฎูุงุฑุงุช
โ ูุธุงู ุฅุดุนุงุฑุงุช ุงุญุชุฑุงูู
โ ุญุงูุงุช ุชุญููู ูุงุถุญุฉ
โ ุชุญุฏูุซ ุณุนุฑ ููุฑู
โ ุฏุนู ูุงูู ููุบุชูู

### ุงููุชูุฌุฉ:
๐ ุตูุญุฉ ููุชุฌ **ุฃุณุฑุน ูุฃููุฃ ูุฃุจุณุท** ูู ุงูุตูุงูุฉ!

---

## ๐ ููุฏุนู

ุฅุฐุง ูุงุฌูุช ุฃู ูุดููุฉ:
1. ุฑุงุฌุน ููู `BLADE_MIGRATION_TESTING_GUIDE.md`
2. ุงูุญุต Console ููุฃุฎุทุงุก
3. ุฑุงุฌุน Network tab ููุทูุจุงุช
4. ุชูุงุตู ูุน ุงููุฑูู ุงูุชููู

---

**ุชู ุจุญูุฏ ุงููู โจ**

**ุงูุชุงุฑูุฎ:** {{ date('Y-m-d') }}
**ุงูุญุงูุฉ:** โ ุฌุงูุฒ ููุงุฎุชุจุงุฑ
**ุงูุฅุตุฏุงุฑ:** 2.0

---

๐ **ูุจุฑูู! ุงูุชุฑุญูู ุชู ุจูุฌุงุญ!** ๐

